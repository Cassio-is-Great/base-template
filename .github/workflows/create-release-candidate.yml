name: "[M] Create Release Candidate"
on: 
  workflow_dispatch:
    jobs:
      #Uses https://github.com/marketplace/actions/create-branch
      #Create a release branch with name "release-candidate"
      create-release-branch:
        uses: peterjgrainger/action-create-branch@v1.0.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      name: create-pull-request workflow
      createPullRequest:
        runs-on: ubuntu-latest
        steps:
          - name: Get current date
            id: date
            run: echo "::set-output name=date::$(date +'%Y-%m-%d')"
          - name: Create Pull Request
            uses: peter-evans/create-pull-request@v3.3.0
            branch: release-candidate
            base: master
            title: "[A] release candidate ${{ steps.date.outputs.date }}"
            body: |
              Update report
              - Pull request for master
              - Auto-generated by [create-pull-request][1]

              [1]: https://github.com/peter-evans/create-pull-request
            labels: |
              release
              automated pr
            reviewers: Cassioblu55
            
